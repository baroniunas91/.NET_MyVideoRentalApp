@model VideoRent.ViewModels.SearchViewModel
@{
    ViewBag.Title = "Search";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Search</h2>

<b>Customers</b>
<form method="get">
    <div class="form-group" style="width:20%">
        <input type="search" class="form-control" asp-for="CustomerName" />
        <br />
        <button name="SearchButton" value="customer" type="submit">Search</button>
    </div>

    @if (ViewContext.HttpContext.Request.Query["SearchButton"] == "customer")
    {
        if (Model.FoundCustomers.Any())
        {
            <ul>
                @foreach (var customer in Model.FoundCustomers)
                {
                    <li>@Html.ActionLink(customer.Name, "Details", "Customers", new { Id = customer.Id }, null)</li>
                }
            </ul>
        }
        else
        {
            <b>No records found.</b>
        }
    }

    <br />
    <br />

    <b>Movies</b>

    <div class="form-group" style="width:20%">
        @Html.CheckBoxFor(m => m.SearchByName)
        @Html.LabelFor(m => m.SearchByName)
        <br />
        @Html.CheckBoxFor(m => m.SearchByGenre)
        @Html.LabelFor(m => m.SearchByGenre)
        <input type="search" class="form-control" asp-for="MovieName" />
        <br />
        <button name="SearchButton" value="movie" type="submit">Search</button>
    </div>
</form>